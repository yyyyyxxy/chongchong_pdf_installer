# 🎹 CCGQP-Downloader | 虫虫钢琴高清乐谱下载器

一个用于快速下载虫虫钢琴网乐谱的自动化工具。支持自动抓取五线谱与简谱版本，并导出为高质量、矢量化的 PDF 文件。

---

## ✨ 功能特点

- **双模式支持**：一次操作，自动同时下载五线谱和简谱两个版本。
- **高保真 PDF**：利用浏览器 CDP 打印技术，生成的 PDF 是矢量格式，清晰度极高。
- **自动命名**：程序会自动抓取网页标题，清理非法文件名字符后作为文件名保存。
- **灵活输入**：
  - 交互模式：直接运行，按提示粘贴链接。
  - 单链接模式：通过参数 -u 指定下载。
  - 批量模式：支持从文本文件批量读取链接。
- **静默运行**：默认开启无头模式，后台自动处理，不弹出浏览器窗口。

---

## 🛠️ 环境要求

- Python 3.6+
- Microsoft Edge 浏览器
- Edge WebDriver (版本需与浏览器保持一致)

---

## 📦 安装步骤

1. 安装依赖库：
   运行命令：pip install requests beautifulsoup4 selenium

2. 下载驱动：
   - 查看 Edge 版本：设置 -> 关于 Microsoft Edge。
   - 前往官网下载对应版本的 msedgedriver.exe。
   - 将驱动文件放在脚本同级目录下。

---

## 🚀 使用方法

### 1. 交互模式
直接在终端运行：
python downloader.py
随后根据提示粘贴乐谱链接，输入空行开始下载。

### 2. 下载单个链接
python downloader.py -u "https://www.gangqinpu.com/html/xxxxxx.htm"

### 3. 批量下载
准备一个 links.txt，每行一个链接，然后运行：
python downloader.py -f links.txt

---

## 🔍 常见问题排查

- **找不到驱动文件**：确保 msedgedriver.exe 和脚本在同一个文件夹。
- **驱动版本错误**：如果浏览器自动升级了，需要重新下载对应版本的驱动。
- **未找到 iframe**：请确保链接是具体的详情页（html 结尾），而不是搜索结果页。
- **无法加载内容**：检查网络是否稳定，或尝试关闭 VPN 代理。

---

## ⚖️ 免责声明

1. 本工具仅供个人学习、技术研究及钢琴练习交流使用，严禁用于任何商业用途。
2. 下载的乐谱版权归原作者及相关网站所有，请尊重原创，支持正版。
3. 使用本工具即表示您已阅读并同意：开发者不对任何由于不当使用导致的版权纠纷承担责任。

---
